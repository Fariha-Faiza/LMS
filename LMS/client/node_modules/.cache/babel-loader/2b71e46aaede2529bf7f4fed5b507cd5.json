{"ast":null,"code":"var _jsxFileName = \"D:\\\\library-managemnet\\\\client\\\\src\\\\booklist\\\\Booklist.jsx\",\n    _s = $RefreshSig$();\n\nimport \"./booklist.css\";\nimport axios from \"axios\";\nimport { useState } from \"react\";\nimport { useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Context } from \"../context/Context\";\nimport { useContext } from \"react\";\nimport * as React from 'react';\nimport AppBar from '@mui/material/AppBar';\nimport Box from '@mui/material/Box';\nimport Toolbar from '@mui/material/Toolbar';\nimport Typography from '@mui/material/Typography';\nimport Button from '@mui/material/Button';\nimport IconButton from '@mui/material/IconButton';\nimport MenuIcon from '@mui/icons-material/Menu';\nimport Addbook from '../addbook/Addbook';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Booklist() {\n  _s();\n\n  const [openAddbook, setOpenAddbook] = React.useState(false);\n\n  const handleLoginSubmit = (username, password) => {\n    //  console.log(username, password);\n    setOpenAddbook(false);\n  };\n\n  const handleLoginClose = () => {\n    setOpenAddbook(false);\n  }; //add book\n\n\n  const [title, setTitle] = useState(\"\");\n  const [desc, setDesc] = useState(\"\");\n  const [file, setFile] = useState(null);\n  const {\n    user\n  } = useContext(Context);\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const newPost = {\n      username: user.username,\n      title,\n      desc\n    };\n\n    if (file) {\n      const data = new FormData();\n      const filename = Date.now() + file.name;\n      data.append(\"name\", filename);\n      data.append(\"file\", file);\n      newPost.photo = filename;\n\n      try {\n        await axios.post(\"/upload\", data);\n      } catch (err) {}\n    }\n\n    try {\n      const res = await axios.post(\"/posts\", newPost);\n      window.location.replace(\"/post/\" + res.data._id);\n    } catch (err) {}\n  }; //book list fetching function\n\n\n  const [booklist, setBooklist] = useState([]);\n  useEffect(() => {\n    const fetchUser = async () => {\n      const res = await axios.get(\"/books\"); // setUser(res.data)\n\n      console.log(\"hello\", res);\n      setBooklist(res.data);\n    };\n\n    fetchUser();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      color: \"inherit\",\n      onClick: () => {\n        setOpenAddbook(true);\n      },\n      children: \"add book\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 10\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n          children: /*#__PURE__*/_jsxDEV(\"th\", {\n            colSpan: \"4\",\n            children: \"Book List\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Book Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Author\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Edition\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"price\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Copyright\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Title\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Description\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \" Action\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), booklist.map(c => /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n          children: c.bookname\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: c.author\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: c.edition\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: c.price\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: c.copyright\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: c.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: c.desc\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"topIcon fa-solid fa-pen-to-square\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 11\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            style: {\n              padding: \"10px\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"topIcon fa-solid fa-trash\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 11\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Addbook, {\n      open: openAddbook,\n      handleSubmit: handleLoginSubmit,\n      handleClose: handleLoginClose\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Booklist, \"gvcBio+1wo3oi7bTC6Yi/clCYbo=\");\n\n_c = Booklist;\n\nvar _c;\n\n$RefreshReg$(_c, \"Booklist\");","map":{"version":3,"names":["axios","useState","useEffect","Link","Context","useContext","React","AppBar","Box","Toolbar","Typography","Button","IconButton","MenuIcon","Addbook","Booklist","openAddbook","setOpenAddbook","handleLoginSubmit","username","password","handleLoginClose","title","setTitle","desc","setDesc","file","setFile","user","handleSubmit","e","preventDefault","newPost","data","FormData","filename","Date","now","name","append","photo","post","err","res","window","location","replace","_id","booklist","setBooklist","fetchUser","get","console","log","map","c","bookname","author","edition","price","copyright","padding"],"sources":["D:/library-managemnet/client/src/booklist/Booklist.jsx"],"sourcesContent":["import \"./booklist.css\"\r\nimport axios from \"axios\"\r\nimport { useState } from \"react\"\r\nimport { useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Context } from \"../context/Context\";\r\nimport { useContext } from \"react\";\r\nimport * as React from 'react';\r\nimport AppBar from '@mui/material/AppBar';\r\nimport Box from '@mui/material/Box';\r\nimport Toolbar from '@mui/material/Toolbar';\r\nimport Typography from '@mui/material/Typography';\r\nimport Button from '@mui/material/Button';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport MenuIcon from '@mui/icons-material/Menu';\r\nimport Addbook from '../addbook/Addbook'\r\n\r\nexport default function Booklist() {\r\n\r\n  const [openAddbook, setOpenAddbook] = React.useState(false)\r\n \r\n\r\n  const handleLoginSubmit = (username, password) => {\r\n  //  console.log(username, password);\r\n   setOpenAddbook(false)\r\n  }\r\n  const handleLoginClose = () => {\r\n      setOpenAddbook(false)\r\n  }\r\n  //add book\r\n  const [title, setTitle] = useState(\"\");\r\n  const [desc, setDesc] = useState(\"\");\r\n  const [file, setFile] = useState(null);\r\n  const { user } = useContext(Context);\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const newPost = {\r\n      username: user.username,\r\n      title,\r\n      desc,\r\n    };\r\n    if (file) {\r\n      const data =new FormData();\r\n      const filename = Date.now() + file.name;\r\n      data.append(\"name\", filename);\r\n      data.append(\"file\", file);\r\n      newPost.photo = filename;\r\n      try {\r\n        await axios.post(\"/upload\", data);\r\n      } catch (err) {}\r\n    }\r\n    try {\r\n      const res = await axios.post(\"/posts\", newPost);\r\n      window.location.replace(\"/post/\" + res.data._id);\r\n    } catch (err) {}\r\n  };\r\n\r\n\r\n\r\n//book list fetching function\r\n    const [booklist, setBooklist] = useState([]);\r\n    useEffect(()=>{\r\n        const fetchUser = async () => {\r\n            const res = await axios.get(\"/books\")\r\n            // setUser(res.data)\r\n            console.log(\"hello\", res);\r\n            setBooklist(res.data)\r\n\r\n        }\r\n        fetchUser();\r\n    },[] )\r\n  return (\r\n    <div>\r\n\r\n{/* <button className=\"loginRegisterButton\">\r\n        <Link  className=\"link\" to=\"/register\">Register</Link>\r\n        </button> */}\r\n\r\n         <button color=\"inherit\"\r\n          onClick={() => {setOpenAddbook(true)}}>\r\n           \r\n           add book</button>\r\n      <table> \r\n        <thead>\r\n        <tr>\r\n          <th colSpan=\"4\">Book List</th>\r\n        </tr>\r\n        <tr>\r\n          <th>Book Name</th>\r\n          <th>Author</th>\r\n          <th>Edition</th>\r\n          <th>price</th>\r\n          <th>Copyright</th>\r\n          <th>Title</th>\r\n          <th>Description</th>\r\n          <th> Action</th>\r\n         \r\n        </tr>\r\n        </thead>\r\n        {booklist.map((c) => (\r\n          <tr> \r\n          <td>{c.bookname}</td>\r\n          <td>{c.author}</td>\r\n          <td>{c.edition}</td>\r\n          <td>{c.price}</td>\r\n          <td>{c.copyright}</td>\r\n          <td>{c.title}</td>\r\n          <td>{c.desc}</td>\r\n          <td>\r\n          <button> \r\n          <i className=\"topIcon fa-solid fa-pen-to-square\"></i>\r\n          </button>\r\n\r\n          <button style={{padding :\"10px\"}}>\r\n          <i className=\"topIcon fa-solid fa-trash\"></i>\r\n          </button>\r\n\r\n          </td>\r\n         \r\n         \r\n      \r\n         \r\n        \r\n          </tr>\r\n        \r\n      \r\n     \r\n\r\n      ))}\r\n      </table>\r\n\r\n      <Addbook\r\n          open={openAddbook}\r\n          handleSubmit={handleLoginSubmit}\r\n          handleClose={handleLoginClose}\r\n      />\r\n    </div>\r\n  \r\n  \r\n  )\r\n\r\n  \r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}