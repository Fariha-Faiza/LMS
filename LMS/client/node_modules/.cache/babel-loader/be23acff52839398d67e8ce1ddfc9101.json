{"ast":null,"code":"var _jsxFileName = \"D:\\\\library-managemnet\\\\client\\\\src\\\\booklist\\\\Booklist.jsx\",\n    _s2 = $RefreshSig$();\n\nimport \"./booklist.css\";\nimport axios from \"axios\";\nimport { useState } from \"react\";\nimport { useEffect } from \"react\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport { Context } from \"../context/Context\";\nimport { useContext } from \"react\";\nimport * as React from 'react';\nimport Addbook from '../addbook/Addbook';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Booklist() {\n  _s2();\n\n  var _s = $RefreshSig$();\n\n  //add book \n  //by using add book component(dialog)\n  const [openAddbook, setOpenAddbook] = React.useState(false); //add book dialog\n\n  const [addbook, setAddbook] = React.useState(false);\n  const [bookId, setBookId] = React.useState(\"\");\n\n  const handleLoginSubmit = (username, password) => {\n    //  console.log(username, password);\n    setOpenAddbook(false);\n  };\n\n  const handleLoginClose = () => {\n    _s();\n\n    setOpenAddbook(false); //book list fetching from backend\n\n    const [booklist, setBooklist] = useState([]);\n    useEffect(() => {\n      const getBooks = async () => {\n        const res = await axios.get(\"/books\"); // setUser(res.data)\n\n        console.log(\"hello\", res.data); // console.log(booklist[5]._id);\n\n        setBooklist(res.data);\n      };\n\n      getBooks();\n    }, []); //delete book\n\n    const handleDelete = async (index, e) => {\n      setBooklist(booklist.filter((v, i) => i !== index));\n\n      try {\n        const res = await axios.delete(`/books/${booklist[index]._id}`, {});\n        console.log('delete', res.data);\n      } catch (err) {}\n    }; //edit book working\n\n\n    const handleEdit = async (event, param) => {\n      //const map1 = booklist.map(index)\n      bookId = event._id;\n      console.log(\"map1\", event, \"bookid\", bookId);\n      console.log(\"param\", param);\n    };\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        color: \"inherit\",\n        onClick: () => {\n          setOpenAddbook(true);\n        },\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"writeIcon fas fa-plus\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 14\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 10\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n            children: /*#__PURE__*/_jsxDEV(\"th\", {\n              colSpan: \"4\",\n              children: \"Book List\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 11\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \" index\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Book Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Author\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Edition\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"price\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"quantity\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Title\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Description\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \" Action\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 9\n        }, this), booklist.map((c, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: [\" \", index + 1]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: c.bookname\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: c.author\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: c.edition\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: c.price\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: c.copyright\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: c.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: c.desc\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"singlePostEdit\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"singlePostIcon far fa-edit\",\n                onClick: event => handleEdit(c._id),\n                children: \" \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"singlePostIcon far fa-trash-alt\",\n                onClick: e => handleDelete(index, e)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 16\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 11\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 7\n      }, this), addbook ? /*#__PURE__*/_jsxDEV(Addbook, {\n        open: openAddbook,\n        handleSubmit: handleLoginSubmit,\n        handleClose: handleLoginClose\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 22\n      }, this) : /*#__PURE__*/_jsxDEV(Addbook, {\n        open: openAddbook,\n        handleSubmit: handleLoginSubmit,\n        handleClose: handleLoginClose,\n        id: \"\",\n        action: \"edit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 5\n    }, this);\n  };\n\n  _s(handleLoginClose, \"zET1N9fg8OpXgohvsxl8EyXxQdw=\");\n}\n\n_s2(Booklist, \"oWtTBGfGbK/rKmTygdLPUfp0tQM=\");\n\n_c = Booklist;\n\nvar _c;\n\n$RefreshReg$(_c, \"Booklist\");","map":{"version":3,"names":["axios","useState","useEffect","Link","useLocation","Context","useContext","React","Addbook","Booklist","openAddbook","setOpenAddbook","addbook","setAddbook","bookId","setBookId","handleLoginSubmit","username","password","handleLoginClose","booklist","setBooklist","getBooks","res","get","console","log","data","handleDelete","index","e","filter","v","i","delete","_id","err","handleEdit","event","param","map","c","bookname","author","edition","price","copyright","title","desc"],"sources":["D:/library-managemnet/client/src/booklist/Booklist.jsx"],"sourcesContent":["import \"./booklist.css\"\r\nimport axios from \"axios\"\r\nimport { useState } from \"react\"\r\nimport { useEffect } from \"react\";\r\nimport { Link, useLocation } from \"react-router-dom\";\r\nimport { Context } from \"../context/Context\";\r\nimport { useContext } from \"react\";\r\nimport * as React from 'react';\r\nimport Addbook from '../addbook/Addbook'\r\n\r\n\r\nexport default function Booklist() {\r\n  //add book \r\n //by using add book component(dialog)\r\n  const [openAddbook, setOpenAddbook] = React.useState(false)  //add book dialog\r\n  const [addbook, setAddbook] = React.useState(false)\r\n  const [bookId, setBookId] = React.useState(\"\")\r\n\r\n \r\n  const handleLoginSubmit = (username, password) => {\r\n  //  console.log(username, password);\r\n   setOpenAddbook(false)\r\n  }\r\n  const handleLoginClose = () => {\r\n      setOpenAddbook(false)\r\n  \r\n \r\n //book list fetching from backend\r\n    const [booklist, setBooklist] = useState([]);\r\n    useEffect(()=>{\r\n        const getBooks = async () => {\r\n            const res = await axios.get(\"/books\")\r\n            // setUser(res.data)\r\n            console.log(\"hello\", res.data);\r\n           // console.log(booklist[5]._id);\r\n            setBooklist(res.data)\r\n\r\n        };\r\n        getBooks();\r\n       \r\n    },[] )\r\n\r\n//delete book\r\nconst handleDelete = async (index,e) => {\r\n  \r\n  setBooklist(booklist.filter((v, i) => i !== index));\r\n  try {\r\n    const res   =  await axios.delete(`/books/${booklist[index]._id}`, {\r\n        })\r\n        \r\n        console.log('delete',res.data);\r\n      } catch(err) {}\r\n}\r\n\r\n//edit book working\r\nconst handleEdit = async (event, param) => {\r\n //const map1 = booklist.map(index)\r\nbookId = event._id;\r\n\r\n console.log(\"map1\", event, \"bookid\" ,bookId);\r\n console.log(\"param\", param)\r\n \r\n      \r\n\r\n}\r\n\r\n\r\n  return (\r\n    <div>\r\n         <div color=\"inherit\" \r\n          onClick={() => {setOpenAddbook(true)}}>\r\n             <i className=\"writeIcon fas fa-plus\"></i>\r\n           \r\n          </div>\r\n      <table> \r\n        <thead>\r\n        <tr>\r\n          <th colSpan=\"4\">Book List</th>\r\n        </tr>\r\n        <tr>\r\n          <th> index</th>\r\n          <th>Book Name</th>\r\n          <th>Author</th>\r\n          <th>Edition</th>\r\n          <th>price</th>\r\n          <th>quantity</th>\r\n          <th>Title</th>\r\n          <th>Description</th>\r\n          <th> Action</th>\r\n         \r\n        </tr>\r\n        </thead>\r\n        {booklist.map((c, index) => (\r\n          <tr> \r\n            <td> {index+1}</td>\r\n          <td>{c.bookname}</td>\r\n          <td>{c.author}</td>\r\n          <td>{c.edition}</td>\r\n          <td>{c.price}</td>\r\n          <td>{c.copyright}</td>\r\n          <td>{c.title}</td>\r\n          <td>{c.desc}</td>\r\n          <td>\r\n          <div className=\"singlePostEdit\">\r\n                <i className=\"singlePostIcon far fa-edit\" onClick={event=> handleEdit(c._id)}> </i>\r\n             \r\n\r\n               <i className=\"singlePostIcon far fa-trash-alt\" onClick={e => handleDelete(index,e)}></i>   \r\n                  </div>\r\n\r\n\r\n          </td>\r\n          </tr>\r\n\r\n      ))}\r\n      </table>\r\n      { (addbook)  ? <Addbook\r\n          open={openAddbook}\r\n          handleSubmit={handleLoginSubmit}\r\n          handleClose={handleLoginClose}\r\n      \r\n      />\r\n      :\r\n    <Addbook\r\n          open={openAddbook}\r\n          handleSubmit={handleLoginSubmit}\r\n          handleClose={handleLoginClose}\r\n          id = \"\"\r\n          action = \"edit\"\r\n         \r\n      />\r\n      }\r\n      \r\n      \r\n\r\n\r\n    </div>\r\n  \r\n  \r\n  )\r\n\r\n  \r\n    }\r\n  }"],"mappings":"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"},"metadata":{},"sourceType":"module"}